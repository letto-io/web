<!DOCTYPE HTML>
<html data-ng-app="BossEdu" data-ng-controller="presentationCtrl" data-ng-init="getPresentation()">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <title>{{presentation.subject}}</title>

    <link rel="stylesheet" href="http://fonts.googleapis.com/icon?family=Material+Icons"/>
    <link rel="stylesheet" href="/view/css/build/materialize_custom.min.css" />
    <link rel="stylesheet" href="/view/css/build/user_style.min.css" />
    <link rel="shortcut icon" href="/view/img/oddin_favicon.png" type="image/x-icon" />
  </head>
  <body data-ng-cloak="true">
    <header>
      <!--Barra de navegação superior-->
      <div class="navbar-fixed">
        <nav class="navbar-fixed barra-navegacao">
          <div class="nav-wrapper barra-navegacao__container">
            <a href="#" data-activates="slide-out" class="button-collapse"><i class=" material-icons">menu</i></a>
            <a class="barra-navegacao__voltar hide-on-med-and-down" href="../historic"><i class="material-icons">close</i></a>
            <h1 class="barra-navegacao__title truncate">{{presentation.subject}} - {{presentation.lecture.code}}</h1>
            <a href="#" class="brand-logo right hide-on-small-only"><img class="barra-navegacao__logo" src="/view/img/oddin_logo_horizontal-01.png"/></a>
          </div>
        </nav>
      </div>
      <!--Barra de navegação lateral-->
      <ul id="slide-out" class="side-nav fixed barra-lateral">
        <div class="barra-lateral__header">
          <i class="barra-lateral__user-avatar material-icons">account_circle</i>
          <p class="barra-lateral__user-name">Aluno Teste</p>
          <p class="barra-lateral__user-email">aluno@email.com</p>
        </div>
        <!--<li><a href="./presentation/current">Aula Atual</a></li>-->
        <li class="hide-on-large-only no-padding barra-lateral__item"><a href="../historic">Sair de {{presentation.subject}}</a></li>
        <li class="no-padding barra-lateral__item"><a href="/app/instruction">Voltar Para Disciplinas</a></li>
        <li class="no-padding barra-lateral__item"><a href="/controller/logout">Logout</a></li>
      </ul>
    </header>
    <main>
      <div class="container">
        <!--FAB-->
        <div class="fixed-action-btn" style="bottom: 24px; right: 24px;">
          <a class="btn-floating btn-large waves-effect waves-light modal-trigger" href="#postar-duvida">
            <i class="large material-icons">send</i>
          </a>
        </div>
        <!--Postar dúvida-->
        <div id="postar-duvida" class="modal bottom-sheet">
          <div class="modal-content modal-criar-item modal-post-duvida">
            <div class="row">
              <form class="offset-m2 offset-l3 col  s12 m8 l6" data-ng-submit="sendDoubt(doubt)">
                <h1 class="modal-criar-item__titulo">Postar Dúvida</h1>
                <div class="row">
                  <div class="input-field col s12">
                    <textarea name="texto" data-ng-model="doubt.text" class="materialize-textarea" id="textarea_duvida"></textarea>
                    <label for="textarea_duvida">Dúvida</label>
                  </div>
                </div>
                <div class="row">
                  <div class="col s12 m9">
                    <p class="modal-post-duvida__checkbox">
                      <input type="checkbox" class="filled-in" id="checkbox-anonimo" data-ng-model="doubt.anonymous"/>
                      <label for="checkbox-anonimo">Enviar como anônimo</label>
                    </p>
                  </div>
                  <div class="col s12 m3">
                    <button class="btn waves-effect waves-light modal-post-duvida__submit" type="submit" name="action">Enviar
                    </button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
        <!--->

        <div class="card pergunta" data-ng-repeat="doubt in doubts | orderObjectBy:'-likes'">
          <div class="card-content">
            <div class="pergunta__header">
              <span class="autor">{{doubt.person.name}}</span>
              <span class="datahora">{{doubt.date}} {{doubt.time}}</span>
            </div>
            <div class="pergunta__content">
              <p>{{doubt.text}}
              </p>
            </div>
          </div>
          <div class="card-action pergunta__action">
            <div class="row">
              <div class="col s6 m4">
                <div class="upvote" data-ng-class="{interactive_checked: doubt.like}">
                  <a href="" data-ng-click="likeDoubt(doubt)">
                    <i class="material-icons">keyboard_arrow_up</i>
                  </a>
                  <span class="custom-badge">{{doubt.likes}}</span>
                </div>
              </div>
              <div class="col s6 m4">
                <div class="check-entendi">
                  <i class="material-icons">check</i>
                </div>
              </div>
              <div class="col s12 m4">
                <div class="ver-resposta" data-ng-if="doubt.contributions > 0">
                  <a id="button_{{doubt.id}}" class="waves-effect btn-flat" data-ng-click="fetchAnswer(doubt)">
                    Ver Respostas
                  </a>
                </div>
              </div>
            </div>
          </div>

          <!--Resposta-->
          <div class="resposta" data-ng-attr-id="{{doubt.id}}" data-ng-if="doubt.answers.length > 0" data-ng-repeat="answer in doubt.answers">
            <div class="resposta__header">
              <span class="autor">{{answer.person.name}}</span>
              <span class="datahora">{{answer.createdat}}<!--{{answer.date}} {{answer.time}}--></span>
            </div>
            <div class="resposta__content">
              <p>
                {{answer.text}}
              </p>
            </div>
            <div class="resposta__action">
              <div class="upvote" data-ng-class="{interactive_checked: doubt.like}">
                <a href="" data-ng-click="likeDoubt(doubt)">
                  <i class="material-icons">keyboard_arrow_up</i>
                </a>
                <span class="custom-badge">{{doubt.likes}}</span>
              </div>
              <div class="check-entendi">
                <i class="material-icons">check</i>
              </div>
            </div>
          </div>
          </div>
        </div>
      </div>
    </main>
    <!--&lt;!&ndash;Resposta&ndash;&gt;-->
    <!--<div class="resposta" data-ng-attr-id="{{doubt.id}}" data-ng-if="doubt.answers.length > 0">-->
      <!--<div class="row">-->
        <!--<div class="col s12">-->
          <!--<ul class="tabs">-->
            <!--<li class="active"><a href="#texto" aria-controls="texto" role="tab" data-toggle="tab"><span class="fa fa-font fa-lg"></span></a></li>-->
            <!--<li ><a href="#audio" aria-controls="audio" role="tab" data-toggle="tab"><span class="fa fa-microphone fa-lg"></span></a></li>-->
            <!--<li ><a href="#video" aria-controls="video" role="tab" data-toggle="tab"><span class="fa fa-video-camera fa-lg"></span></a></li>-->
            <!--<li ><a href="#arquivo" aria-controls="arquivo" role="tab" data-toggle="tab"><span class="fa fa-paperclip fa-lg"></span></a></li>-->
          <!--</ul>-->
        <!--</div>-->
        <!--<div class="tab-content">-->
          <!--<div role="tabpanel" class="tab-pane active" id="texto">-->
            <!--<div class="respostas_section" data-ng-repeat="answer in doubt.answers">-->
              <!--<div class="row">-->
                <!--<div class="col-md-4 col-sm-6"><h4 class="resposta__pessoa">{{answer.person.name}}</h4></div>-->
                <!--<div class="col-md-offset-4 col-md-4 col-sm-offset-2 col-sm-4"><h4 class="resposta__time">{{answer.createdat}}</h4></div>-->
              <!--</div>-->
              <!--<div class="resposta__textbox">-->
                <!--<p>-->
                  <!--{{answer.text}}-->
                <!--</p>-->
              <!--</div>-->
            <!--</div>-->
            <!--<div role="tabpanel" class="tab-pane" id="audio"><p>Áudio</p></div>-->
            <!--<div role="tabpanel" class="tab-pane" id="video"><p>Vídeo</p></div>-->
            <!--<div role="tabpanel" class="tab-pane" id="arquivo"><p>Download de Arquivo</p></div>-->
          <!--</div>-->
        <!--</div>-->
      <!--</div>-->
    <!--</div>-->
    <!--&lt;!&ndash;Fim da Resposta&ndash;&gt;-->
    <script src="/view/vendor/jquery/dist/jquery.min.js"></script>
    <script src="/view/vendor/Materialize/dist/js/materialize.min.js"></script>
    <script src="/view/assets/socket.io-client/socket.io.js"></script>

    <script src="/view/js/utils.js"></script>
    <script type="application/javascript" src="/controller/config/app?callback=Util.setEnvironment"></script>

    <script src="/view/vendor/angular/angular.js"></script>
    <script src="/view/js/app.js"></script>
    <script src="/view/js/filter/orderObjectBy.js"></script>
    <script src="/view/js/controller/presentationCtrl.js"></script>
    <script src="/view/js/initMaterialize.js"></script>
  </body>
</html>
